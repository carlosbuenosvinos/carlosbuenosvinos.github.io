<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Carlos Buenosvinos | Consultoría en Opositatest: Monolito o Microservicios</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.62.2"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css rel=stylesheet><meta property="og:title" content="Consultoría en Opositatest: Monolito o Microservicios"><meta property="og:description" content="El pasado Marzo, Christian Soronellas y yo estuvimos en A Coruña ayudando al equipo de Opositatest con algunos de sus retos. Me gustaría compartir con vosotros cómo ha sido el proceso de principio (contacto, precio, preparación, contenido y seguimiento) así como daros a conocer Opositatest. Si estáis buscando un equipo con retos interesantes, vivís por A Coruña o podéis trabajar en remoto, vale la pena que habléis con ellos. Podéis revisar la oferta aquí."><meta property="og:type" content="article"><meta property="og:url" content="https://carlosbuenosvinos.com/consultoria-en-opositatest-y-charla-en-php-coruna-cqrs-live-coding-con-carlos-buenosvinos-y-christian-soronellas/"><meta property="article:published_time" content="2020-04-26T18:00:00+02:00"><meta property="article:modified_time" content="2020-04-26T18:00:00+02:00"><meta itemprop=name content="Consultoría en Opositatest: Monolito o Microservicios"><meta itemprop=description content="El pasado Marzo, Christian Soronellas y yo estuvimos en A Coruña ayudando al equipo de Opositatest con algunos de sus retos. Me gustaría compartir con vosotros cómo ha sido el proceso de principio (contacto, precio, preparación, contenido y seguimiento) así como daros a conocer Opositatest. Si estáis buscando un equipo con retos interesantes, vivís por A Coruña o podéis trabajar en remoto, vale la pena que habléis con ellos. Podéis revisar la oferta aquí."><meta itemprop=datePublished content="2020-04-26T18:00:00+02:00"><meta itemprop=dateModified content="2020-04-26T18:00:00+02:00"><meta itemprop=wordCount content="1472"><meta itemprop=keywords content="microservices,monolith,bounded contexts,ddd,context map,php,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Consultoría en Opositatest: Monolito o Microservicios"><meta name=twitter:description content="El pasado Marzo, Christian Soronellas y yo estuvimos en A Coruña ayudando al equipo de Opositatest con algunos de sus retos. Me gustaría compartir con vosotros cómo ha sido el proceso de principio (contacto, precio, preparación, contenido y seguimiento) así como daros a conocer Opositatest. Si estáis buscando un equipo con retos interesantes, vivís por A Coruña o podéis trabajar en remoto, vale la pena que habléis con ellos. Podéis revisar la oferta aquí."></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://carlosbuenosvinos.com/posts/images/2020/04/foto-equipo.jpeg)><div class="pb3-m pb6-l bg-black-60"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=https://carlosbuenosvinos.com class="f3 fw2 hover-white no-underline white-90 dib">Carlos Buenosvinos</a><div class="flex-l items-center"><a href=https://twitter.com/buenosvinos target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=http://www.youtube.com/user/carlosbuenosvinos target=_blank class="link-transition youtube link dib z-999 pt3 pt0-l mr1" title="Youtube link" rel=noopener aria-label="follow on Youtube——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527 41.34c-.278.0-.478.078-.6.244-.121.156-.18.424-.18.796v.896h1.543V42.38c0-.372-.062-.64-.185-.796C42.989 41.418 42.792 41.34 42.527 41.34zM36.509 41.309c.234.0.417.076.544.23.123.155.185.383.185.682v4.584c0 .286-.053.487-.153.611-.1.127-.256.189-.47.189-.148.0-.287-.033-.421-.096-.135-.062-.274-.171-.415-.313v-5.531c.119-.122.239-.213.36-.271C36.26 41.335 36.383 41.309 36.509 41.309zM41.748 44.658v1.672c0 .468.057.792.17.974.118.181.313.269.592.269.289.0.491-.076.606-.229.114-.153.175-.489.175-1.013v-.405h1.795v.456c0 .911-.217 1.596-.657 2.059-.435.459-1.089.687-1.958.687-.781.0-1.398-.242-1.847-.731-.448-.486-.676-1.157-.676-2.014v-3.986c0-.768.249-1.398.742-1.882.493-.484 1.128-.727 1.911-.727.799.0 1.413.225 1.843.674.429.448.642 1.093.642 1.935v2.264H41.748zM38.623 48.495c-.271.336-.669.501-1.187.501-.343.0-.646-.062-.912-.192-.267-.129-.519-.327-.746-.601v.681h-1.764V36.852h1.764v3.875c.237-.27.485-.478.748-.616.267-.143.534-.212.805-.212.554.0.975.189 1.265.565.294.379.438.933.438 1.66v4.926C39.034 47.678 38.897 48.159 38.623 48.495zM30.958 48.884v-.976c-.325.361-.658.636-1.009.822-.349.191-.686.282-1.014.282-.405.0-.705-.129-.913-.396-.201-.266-.305-.658-.305-1.189v-7.422h1.744v6.809c0 .211.037.362.107.457.077.095.196.141.358.141.128.0.292-.062.488-.188.197-.125.375-.283.542-.475v-6.744H32.7v8.878H30.958zM24.916 38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916zm8.078-5.622c0-.001 12.08.018 13.514 1.45 1.439 1.435 1.455 8.514 1.455 8.555.0.0-.012 7.117-1.455 8.556C45.074 52.969 32.994 53 32.994 53s-12.079-.031-13.516-1.462c-1.438-1.435-1.441-8.502-1.441-8.556.0-.041.004-7.12 1.441-8.555C20.916 32.996 32.994 32.977 32.994 32.978zM42.52 29.255h-1.966v-1.08c-.358.397-.736.703-1.13.909-.392.208-.771.312-1.14.312-.458.0-.797-.146-1.027-.437-.229-.291-.345-.727-.345-1.311v-8.172h1.962v7.497c0 .231.045.399.127.502.08.104.216.156.399.156.143.0.327-.069.548-.206.22-.137.423-.312.605-.527v-7.422h1.966V29.255zM31.847 27.588c.139.147.339.219.6.219.266.0.476-.075.634-.223.157-.152.235-.358.235-.618v-5.327c0-.214-.08-.387-.241-.519-.16-.131-.37-.196-.628-.196-.241.0-.435.065-.586.196-.148.132-.225.305-.225.519v5.327C31.636 27.233 31.708 27.439 31.847 27.588zM30.408 19.903c.528-.449 1.241-.674 2.132-.674.812.0 1.48.237 2.001.711.517.473.777 1.083.777 1.828v5.051c0 .836-.255 1.491-.762 1.968-.513.476-1.212.714-2.106.714-.858.0-1.547-.246-2.064-.736-.513-.492-.772-1.152-.772-1.983v-5.068C29.613 20.954 29.877 20.351 30.408 19.903zM24.262 16h-2.229l2.634 8.003v5.252h2.213v-5.5L29.454 16h-2.25l-1.366 5.298h-.139L24.262 16zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=http://es.linkedin.com/in/carlosbuenosvinos target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/carlosbuenosvinos target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Consultoría en Opositatest: Monolito o Microservicios</h1></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><p class="f6 b helvetica tracked">POSTS</p><h1 class="f1 athelas mb1">Consultoría en Opositatest: Monolito o Microservicios</h1><p class=tracked>By <strong>Carlos Buenosvinos</strong></p><time class="f6 mv4 dib tracked" datetime=2020-04-26T18:00:00+02:00>April 26, 2020</time>
<span class="f6 mv4 dib tracked">- 7 minutes read</span>
<span class="f6 mv4 dib tracked">- 1472 words</span></header><section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>El pasado Marzo, <a href=https://twitter.com/theUniC>Christian Soronellas</a> y yo estuvimos en A Coruña ayudando al equipo de <a href=https://www.opositatest.com/>Opositatest</a> con algunos de sus retos. Me gustaría compartir con vosotros cómo ha sido el proceso de principio (contacto, precio, preparación, contenido y seguimiento) así como daros a conocer Opositatest. Si estáis buscando un equipo con retos interesantes, vivís por A Coruña o podéis trabajar en remoto, vale la pena que habléis con ellos. Podéis revisar la oferta <a href=https://drive.google.com/file/d/1ukrhgf3ylubdE8hBZ46HgvjlWnMzo0le/view>aquí</a>.</p><p><img src=/posts/images/2020/04/carlos-coruna.jpeg alt="En A Coruña"></p><h3 id=un-dm-de-twitter-con-buena-pinta>Un DM de Twitter con buena pinta</h3><p>Es Martes noche y estoy haciendo la revisión semanal de emails de lectores, personas que piden soporte y privados en Twitter. El más interesante que tengo es de <strong>Pablo, COO y Cofounder de Opositatest,</strong> quizá la plataforma más importante para preparar oposiciones que tengamos en nuestro país. Al parecer necesitan un cable. Opositatest está <strong>creciendo fuertemente en tráfico y funcionalidades</strong> y se enfrentan a algunos <strong>dilemas</strong> importantes. Han decidido <strong>revisar</strong> su <strong>arquitectura actual</strong> y decidir cuál es la mejor <strong>estrategia a seguir</strong> para sus necesidades: unificar y tender hacia un <strong>monolito</strong>, <strong>continuar</strong> como hasta ahora (múltiple servicios con algunas dudas sobre el sentido de algunos de ellos) o proponer una <strong>reorganización</strong> de lo existente en base al negocio.</p><p><img src=/posts/images/2020/04/tweet-opositatest.png alt=Tweet></p><p>Éste es uno de los casos que nos gustan al Gremio del Rigor (Rigor Guild). Llamo a Christian, le digo que se reserve Febrero o Marzo que nos tocará volar a Galicia.</p><h3 id=primera-llamada-con-pablo-y-borja>Primera llamada con Pablo y Borja</h3><p>Pablo, el COO de Opositatest, y Borja, el CTO, (los títulos son un poco anecdóticos porque los dos son techies y desarrollan con el resto del equipo técnico) son de aquellos CXOs que me gustan. Pragmáticos, con un mindset abierto a considerar todas las opciones posibles, que les gusta ir al grano y que hacen las preguntas adecuadas. Les explico el tipo de consultorías y formaciones que más me piden: <strong>Refactoring to Hexagonal Architecture + Testing</strong> y <strong>Refactoring to CQRS + Domain Events</strong>. Su respuesta: <code>"Prefiero que estés dos días con nosotros y nos ayudes en la definición de esa arquitectura y cómo llegar a ella"</code>. <em>Considered done</em>! Envío el NDA (Non Disclousure Agreement) para que nos puedan dar acceso al código y nos ponemos a organizar el workshop.</p><h3 id=precio>Precio</h3><p>Mis ingresos personales provienen de mi trabajo como CEO y CTO de SEAT:CODE, así que <strong>las consultorías y formaciones son un hobby</strong>. ¿Por qué las hago, entonces? Me permiten varias cosas: ayudar a los demás, continuar conectado con la comunidad, ver otros problemas diferentes que no veo en mi día a día y mejoran mi marca personal. El hecho de no depender de ellas económicamente, me permite elegir los casos y ser 100% abierto con mi opinión sobre la solución. Me pongo en la piel de vuestro CTO y recomiendo como si la empresa fuera mía maximizando el resultado y minimizando el coste de las soluciones. Con algunos casos, he dicho que no necesitaban mi ayuda en la primera videoconferencia.</p><p>Dicho esto, por si teníais curiosidad, mi tarifa son <strong>1.500 EUR/día + dietas y 100 EUR/hora + IVA por las horas de seguimiento en remoto</strong>. Considero que es muy buen precio teniendo en cuenta que normalmente en las formaciones y consultorías se benefician una media de 15 developers que aprenden durante más de 16 horas (nos va la marcha y siempre estiramos las horas a saco). <strong>3000 EUR/16 horas/15 developers, el precio hora de formación por developer sale entre 12 EUR y 20 EUR</strong>. Es difícil encontrar mejores fuentes de formación al mismo precio o más baratas. Sin contar con los beneficios derivados a la empresa al aplicar los resultados de la consultoría.</p><p>En resumen, Opositatest ha invertido en su equipo y empresa, <strong>4.000 EUR + IVA + más dietas por trabajo previo, 2 días in-situ y 10 horas de seguimiento en remoto</strong>. Adicionalmente, acordamos organizar algún meetup que ayude a compartir conocimiento e incrementar aún más el branding de Opositatest para ayudar con el hiring.</p><h3 id=objetivos-de-la-sesión>Objetivos de la Sesión</h3><p>Establezcamos las expectativas: &ldquo;Si Carlos Buenosvinos va a pasar dos días con el equipo técnico de Opositatest, <strong>qué objetivos</strong> (preguntas, dudas, consejos, aclaraciones, respuestas, artefactos, etc.) os gustaría <strong>tener cumplidos</strong> cuando salga por la puerta&rdquo;. Esto es lo que pido que rellenen los developers <strong>de forma individual</strong>, así como los COO y CTO, para conocer sus expectativas. Es importante separar las del CTO porque a veces, puede ocurrir que las visiones de equipo técnico y CTO sobre las necesidades o el problema sean diferentes. Si coinciden, mejor. En este caso, todos estaban alineados, buena señal.</p><h3 id=revisando-los-objetivos-y-la-arquitectura>Revisando los objetivos y la arquitectura</h3><p>Toca videoconferencia con Pablo y Borja. Me pasan diagramas arquitecturales. Revisamos cada uno de los servicios actuales, sus dificultades actuales y los objetivos que el equipo ha rellenado. El escenario no tiene mala pinta: Symfony entre 3.4 y 4, PHP 7 en todos los sitios, Sylius, EasyAdmin, algún Sonata, integraciones vía API REST y ya hay algún RabbitMQ. Incluso hay un servicio que se asemeja a un API Gateway aunque gestiona cierta lógica de negocio. El problema principal parece ser una Base de Datos común que les ha obligado a tener algunos modelos y bundles compartidos entre las aplicaciones y eso afecta a la velocidad de desarrollo. El equipo son 8 developers en total y tienen alrededor de 6 servicios.</p><h3 id=primeras-impresiones-y-planificando-la-workshop>Primeras impresiones y planificando la workshop</h3><p>La primera impresión es que con un equipo tan pequeño, tantos servicios, y una única base de datos&mldr; algo pinta mal. Quizá un monolito bien arquitecturado y testeado sería lo más práctico, pero hay que ir con cuidado con combinar múltiples versiones de Sylius, EasyAdmins y Sonata.</p><p>El reto consiste en guiarles en el proceso de la toma de decisión, no imponer una visión. Vamos a usar <em>behind-the-scenes</em> una combinación de técnicas de Change Management y Decision Making: ADKAR (Awareness Desire Knowledge Ability Reinforcement) combinada con un Problem/Solution Space y un Extreme Case Analysis.</p><h3 id=desarrollo-de-la-workshop-y-1er-día>Desarrollo de la Workshop y 1er día</h3><p><strong>1. Revisión de Objetivos</strong></p><p>Cada asistente comparte sus objetivos con el resto del equipo. Agrupamos.</p><p><img src=/posts/images/2020/04/goals.png alt=Goals></p><p><strong>2. Pain Points</strong></p><p>Haremos lo mismo con los cuellos de botellas alrededor de acelerar velocidad y calidad. Dot Voting y Ranking.</p><p><img src=/posts/images/2020/04/pain-points.png alt="Pain points"></p><p><strong>3. KPIs</strong></p><p>Qué KPIs deberíamos medir y ver mejorar si tomamos acciones para mejorar dicho Pain Points.</p><p><img src=/posts/images/2020/04/kpis.png alt=KPIs></p><p><strong>4. Planteando Soluciones</strong></p><p>Considerando un espectro de soluciones, donde un extremo es tener un único monolito con todas las aplicaciones juntas y el otro extremo es ir a &ldquo;DDD full-microservicios&rdquo;, los asistentes plantean soluciones intermedias. Encontramos pros/cons para cada solución y que posibles medidas para mitigar los cons en cada solución. Identificamos qué información adicional necesitamos evaluar. De lo más interesante, es la importancia de poder externalizar alguno de los servicios no <em>Core</em> a empresas externas para acelerar el desarrollo.</p><p>Parece que no estamos tan lejos de DDD microservicios: Bounded Contexts con un o dos servicios por cada uno de ellos con bases de datos (o al menos schemas) separados pudiendo usar mensajería para convertir entre contenido generado y productos a vender. Pero necesitamos mirar en detalle con código delante dicho coste.</p><p><img src=/posts/images/2020/04/solution-space.png alt="Solution Space"></p><p>Vamos para Coruña centro que toca participar en el <a href=https://www.meetup.com/es-ES/Php-Coruna/events/268904907/>meetup</a>. Hoy tenemos CQRS en el menú.</p><p><img src=/posts/images/2020/04/meetup.jpeg alt=Meetup></p><h3 id=2º-día>2º Día</h3><p><strong>1. Sprint Planning</strong></p><p>Planteamos qué tareas serían necesarias para conseguir dicha separación de modelos, base de datos, etc. Estimamos qué tiempo necesitaríamos y qué dificultades encontraríamos. Qué workarounds encontramos. Vamos a practicar con algunos casos de uso reales.</p><p><img src=/posts/images/2020/04/cost-evaluation.png alt="Cost Evaluation"></p><p><strong>2. Mob Programming</strong></p><p>Escogemos alguna de las aplicaciones más compleja y refactorizamos hacia hexagonal y testeamos un caso de uso con 100% de coverage. Practicamos el <em>GivenWhenThen</em>, el uso de <em>Mocks</em> y algunos trucos más. El equipo parece sorprendido ya que el coste de trabajo es bastante menor del que parecía en su inicio.</p><p><strong>3. Context Map</strong></p><p>Revisamos el objetivo de negocio de cada uno de los servicios actuales y hacia dónde deberían evolucionar, incluso el nombre que deberían tener. Lo más interesante es que cuando pocos developers trabajan en múltiples Bounded Contexts, es difícil cambiar el &ldquo;sombrero&rdquo; cuando estás trabajando en un BC y pasas a trabajar en otro. Discutimos cómo aplicar ACLs entre un contexto de generación de contenido y otro de venta online. El equipo lo tiene muy claro. Acuerdan tener un developer representante de cada BC.</p><p><img src=/posts/images/2020/04/context-map.png alt="Context Map"></p><p><strong>4. Cierre de la sesión</strong></p><p>Repasamos los objetivos, las decisiones tomadas y el plan de acción. Estamos satisfechos.</p><h3 id=seguimiento>Seguimiento</h3><p>Una vez en casa, Christian y yo preparamos un documento resumen con conclusiones y recomendaciones. En las próximas semanas, evaluaremos cómo el equipo está avanzando y si las conclusiones post workshop se han podido aplicar tal y como todos esperábamos. Con reuniones de seguimiento vía conferencia es más que suficiente.</p><h2 id=necesitas-ayuda>Necesitas Ayuda</h2><p>Si tu equipo se encuentra en una situación similar y necesitáis ayuda en la toma de decisiones o incluso en bajar al detalle las implementaciones necesarias, no dudéis en contactarnos por mail directamente a <a href=mailto:carlos.buenosvinos@gmail.com>carlos.buenosvinos@gmail.com</a>.</p><ul class=pa0><li class=list><a href=/tags/microservices class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">microservices</a></li><li class=list><a href=/tags/monolith class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">monolith</a></li><li class=list><a href=/tags/bounded-contexts class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">bounded contexts</a></li><li class=list><a href=/tags/ddd class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ddd</a></li><li class=list><a href=/tags/context-map class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">context map</a></li><li class=list><a href=/tags/php class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">php</a></li></ul><div class=mt6></div></section><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/consultoria-en-o2o-y-charla-en-phpmad-road-from-hexagonal-architecture-to-event-sourcing/>Consultoría en O2O y Charla en PHPMad: Road from Hexagonal Architecture to Event Sourcing</a></li><li class=mb2><a href=/rigor-talks-php-6-named-constructors-iv-spanish/>Rigor Talks – PHP – #6 – Named Constructors IV (Spanish)</a></li><li class=mb2><a href=/rigor-talks-php-5-named-constructors-iii-spanish/>Rigor Talks – PHP – #5 – Named Constructors III (Spanish)</a></li><li class=mb2><a href=/rigor-talks-php-4-named-constructors-ii-spanish/>Rigor Talks – PHP – #4 – Named Constructors II (Spanish)</a></li><li class=mb2><a href=/rigor-talks-php-3-named-constructors-i-spanish/>Rigor Talks – PHP – #3 – Named Constructors I (Spanish)</a></li><li class=mb2><a href=/awesome-two-days-helping-lowpost_es-team/>Awesome two days helping @Lowpost_es team</a></li><li class=mb2><a href=/entrevista-en-codelytv/>Entrevista en @CodelyTV</a></li><li class=mb2><a href=/domain-driven-design-in-php-book-is-finished/>“Domain-Driven Design in PHP” (@dddbook) is finished</a></li><li class=mb2><a href=/rendimiento-con-domain-events-proyecciones-y-principios-de-cqrs/>Rendimiento con Domain Events, Proyecciones y principios de CQRS</a></li><li class=mb2><a href=/guia-para-el-desarrollo-profesional-php-edicion-2014/>Guía para el Desarrollo Profesional PHP (edición 2014)</a></li><li class=mb2><a href=/consulta-sobre-ddd-1-entidades-identidad-uuid/>Consulta sobre DDD #1: Pregunta sobre las entidades en DDD (Identidad y UUID)</a></li><li class=mb2><a href=/domain-driven-design-code-structure-and-application-services-webcast-at-atrapaloeng-spanish/>Domain-Driven Design: Code Structure and Application Services Webcast at @AtrapaloEng (Spanish)</a></li><li class=mb2><a href=/domain-driven-design-bounded-context-integration-spanish/>Domain-Driven Design: Bounded Context Integration (Spanish)</a></li><li class=mb2><a href=/domain-driven-design-aggregates-webcast-at-atrapaloeng-spanish/>Domain-Driven Design: Aggregates Webcast at @AtrapaloEng (Spanish)</a></li><li class=mb2><a href=/tactical-domain-driven-design-screencast-at-phpbarcelona-spanish/>Tactical Domain-Driven Design Screencast at PHPBarcelona (Spanish)</a></li></ul></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://carlosbuenosvinos.com>&copy; Carlos Buenosvinos 2023</a><div><a href=https://twitter.com/buenosvinos target=_blank class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=http://www.youtube.com/user/carlosbuenosvinos target=_blank class="link-transition youtube link dib z-999 pt3 pt0-l mr1" title="Youtube link" rel=noopener aria-label="follow on Youtube——Opens in a new window"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.527 41.34c-.278.0-.478.078-.6.244-.121.156-.18.424-.18.796v.896h1.543V42.38c0-.372-.062-.64-.185-.796C42.989 41.418 42.792 41.34 42.527 41.34zM36.509 41.309c.234.0.417.076.544.23.123.155.185.383.185.682v4.584c0 .286-.053.487-.153.611-.1.127-.256.189-.47.189-.148.0-.287-.033-.421-.096-.135-.062-.274-.171-.415-.313v-5.531c.119-.122.239-.213.36-.271C36.26 41.335 36.383 41.309 36.509 41.309zM41.748 44.658v1.672c0 .468.057.792.17.974.118.181.313.269.592.269.289.0.491-.076.606-.229.114-.153.175-.489.175-1.013v-.405h1.795v.456c0 .911-.217 1.596-.657 2.059-.435.459-1.089.687-1.958.687-.781.0-1.398-.242-1.847-.731-.448-.486-.676-1.157-.676-2.014v-3.986c0-.768.249-1.398.742-1.882.493-.484 1.128-.727 1.911-.727.799.0 1.413.225 1.843.674.429.448.642 1.093.642 1.935v2.264H41.748zM38.623 48.495c-.271.336-.669.501-1.187.501-.343.0-.646-.062-.912-.192-.267-.129-.519-.327-.746-.601v.681h-1.764V36.852h1.764v3.875c.237-.27.485-.478.748-.616.267-.143.534-.212.805-.212.554.0.975.189 1.265.565.294.379.438.933.438 1.66v4.926C39.034 47.678 38.897 48.159 38.623 48.495zM30.958 48.884v-.976c-.325.361-.658.636-1.009.822-.349.191-.686.282-1.014.282-.405.0-.705-.129-.913-.396-.201-.266-.305-.658-.305-1.189v-7.422h1.744v6.809c0 .211.037.362.107.457.077.095.196.141.358.141.128.0.292-.062.488-.188.197-.125.375-.283.542-.475v-6.744H32.7v8.878H30.958zM24.916 38.6v10.284h-1.968V38.6h-2.034v-1.748h6.036V38.6H24.916zm8.078-5.622c0-.001 12.08.018 13.514 1.45 1.439 1.435 1.455 8.514 1.455 8.555.0.0-.012 7.117-1.455 8.556C45.074 52.969 32.994 53 32.994 53s-12.079-.031-13.516-1.462c-1.438-1.435-1.441-8.502-1.441-8.556.0-.041.004-7.12 1.441-8.555C20.916 32.996 32.994 32.977 32.994 32.978zM42.52 29.255h-1.966v-1.08c-.358.397-.736.703-1.13.909-.392.208-.771.312-1.14.312-.458.0-.797-.146-1.027-.437-.229-.291-.345-.727-.345-1.311v-8.172h1.962v7.497c0 .231.045.399.127.502.08.104.216.156.399.156.143.0.327-.069.548-.206.22-.137.423-.312.605-.527v-7.422h1.966V29.255zM31.847 27.588c.139.147.339.219.6.219.266.0.476-.075.634-.223.157-.152.235-.358.235-.618v-5.327c0-.214-.08-.387-.241-.519-.16-.131-.37-.196-.628-.196-.241.0-.435.065-.586.196-.148.132-.225.305-.225.519v5.327C31.636 27.233 31.708 27.439 31.847 27.588zM30.408 19.903c.528-.449 1.241-.674 2.132-.674.812.0 1.48.237 2.001.711.517.473.777 1.083.777 1.828v5.051c0 .836-.255 1.491-.762 1.968-.513.476-1.212.714-2.106.714-.858.0-1.547-.246-2.064-.736-.513-.492-.772-1.152-.772-1.983v-5.068C29.613 20.954 29.877 20.351 30.408 19.903zM24.262 16h-2.229l2.634 8.003v5.252h2.213v-5.5L29.454 16h-2.25l-1.366 5.298h-.139L24.262 16zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=http://es.linkedin.com/in/carlosbuenosvinos target=_blank class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel=noopener aria-label="follow on LinkedIn——Opens in a new window"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a><a href=https://github.com/carlosbuenosvinos target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer><script src=/dist/js/app.3fc0f988d21662902933.js></script></body></html>